# A/B-тестирование 

## Задача
На основании предоставленных данных провести оценку результатов А/В теста, в котором тестировались изменения связанные с внедрением улучшенно рекомендательно системы. Проверить тест на соответствие техническому заданию. На основании проделанной работы сделать выводы о корректности проведенного А/В теста и его успешности.

## Техническое задание 
Название теста: recommender_system_test;
группы: А — контрольная, B — новая платёжная воронка;
дата запуска: 2020-12-07;
дата остановки набора новых пользователей: 2020-12-21;
дата остановки: 2021-01-04;
аудитория: в тест должно быть отобрано 15% новых пользователей из региона EU;
назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
ожидаемое количество участников теста: 6000.
ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
конверсии в просмотр карточек товаров,
просмотры корзины,
покупки.

## Данные

1. Календарь маркетинговых событий на 2020 год.
2. Пользователи, зарегистрировавшиеся с 7 по 21 декабря 2020 года.
3. Действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.
4. Таблица участников тестов.

## Ход исследования
1  Загрузка и изучение данных
2  Предобработка данных
3  Оценка корректности теста
4  Исследовательский анализ данных
5  Результаты А/В тестирования
5.1  Проверка статистической разницы долей z-критерием
6  Выводы

## Вывод
В результате анализа проведенного А/В-теста были выявлены следующие несоостветствия с ТЗ:
- С 2020-12-31 по 2021-01-04 отсутствуют события в логах
- Всего было приведено 15% новых пользователей из региона EU, однако после "чистки" пользоваталей осталась лишь 11%
- Датафрейм с регистрациями пользователей полностью соответствует ТЗ.
- Всего в датафрейме после предобработки осталось 5099 пользователей
- Несколько дней теста выпало на маркетинговые события, а также необходимо учитывать что тест выпал не предпраздничные дни.
- Несколько пользователей попало сразу в два теста.

Также можно отметить некоторые моменты относительно самого проведенного теста:
- Часть пользователей даже не дошла до первого шага `login`
- Распределение пользователей было неравномерным

Данный тест предполагал, что изменения, связанные с внедрением улучшенной рекомендательной системы, повлияют на пользователя таким образом, что за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%, однако были получены следующие результаты:
- Conversion Rate (CR) `login - product_page` в группе В составляет 55,9%, что на 9 п.п. ниже, чем у группы А.
- CR `login - product_cart` в группе В на 2,7 п.п. ниже, чем у группы А.
- CR `login - purchse` в группе В составляет 27.5%, а у группы А - 31.9%.

На этапе изучения результатов А/В тестирования были проведены проверки на равенство долей между каждой группой и каждым событием. Всего было проведено 4 теста. При уровне значимости alpha=0.05 между долями пользователей разных групп, которые совершили каждое из событий, статистически значимая разница велика. Следовательно, улучшенная рекомендательная система не зашла пользователям.

В целом А/В тест прошел неудачно. Некоторые пункты из ТЗ не были соблюдены, выборки разных размеров, данных не хватает, период выпал на препраздничные дни.

Так как исходя из проведенного анализа, метрики в группе B сильно хуже, чем в группе А, а статистический тест показал, что между долями есть значимая разница. Тест в данном случае предлагаю засчитать и новую систему признать неуспешной.

## Используемые библиотеки
*pandas, numpy, matplotlib, seaborn, scipy, math*
